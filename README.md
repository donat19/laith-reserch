# 3D Path Integral Raymarcher Engine

**–§–∏–∑–∏—á–µ—Å–∫–∏-–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –¥–≤–∏–∂–æ–∫ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω—Ç–µ–≥—Ä–∞–ª–æ–≤ –ø–æ –ø—É—Ç—è–º –¥–ª—è Apple Silicon**

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–≤–∞–Ω—Ç–æ–≤–æ-–º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∞–ª–æ–≤ –ø–æ –ø—É—Ç—è–º (Path Integral Raymarching). –î–≤–∏–∂–æ–∫ —Å–∏–º—É–ª–∏—Ä—É–µ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Å–≤–µ—Ç–∞ –∫–∞–∫ –∫–≤–∞–Ω—Ç–æ–≤—ã–µ –∞–º–ø–ª–∏—Ç—É–¥—ã –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –¥–∏—Å–ø–µ—Ä—Å–∏–æ–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã.

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- **–°–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ RGB** —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ –¥–ª–∏–Ω–∞–º–∏ –≤–æ–ª–Ω
- **GPU —É—Å–∫–æ—Ä–µ–Ω–∏–µ** –Ω–∞ Apple Silicon (Metal Performance Shaders)
- **Real-time –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –∫–∞—á–µ—Å—Ç–≤–æ–º
- **–§–∏–∑–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è** —Å–∏–º—É–ª—è—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ –∏ –¥–∏—Å–ø–µ—Ä—Å–∏–∏
- **–ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—ã–µ —Ä–µ–∂–∏–º—ã** (—Ü–≤–µ—Ç–Ω–æ–π/–º–æ–Ω–æ—Ö—Ä–æ–º–Ω—ã–π)

## ÔøΩ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### 1. `3_d_path_integral_raymarcher.py` - –ë–∞–∑–æ–≤–∞—è CPU –≤–µ—Ä—Å–∏—è
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
**–†–∞–∑–º–µ—Ä**: ~7KB | **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ù–∏–∑–∫–∞—è (CPU only)

```python
# –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
‚îú‚îÄ‚îÄ SDF —Ñ—É–Ω–∫—Ü–∏–∏ (—Å—Ü–µ–Ω–∞)
‚îÇ   ‚îú‚îÄ‚îÄ sdf_sphere()      # –°—Ñ–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ sdf_plane()       # –ü–ª–æ—Å–∫–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ scene_sdf()       # –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ü–µ–Ω–∞
‚îú‚îÄ‚îÄ –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ normalize()       # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ orthonormal_basis() # –ë–∞–∑–∏—Å –∫–∞–º–µ—Ä—ã
‚îî‚îÄ‚îÄ –†–µ–Ω–¥–µ—Ä–µ—Ä
    ‚îî‚îÄ‚îÄ render()          # –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**:
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 220x140
- SPP: 60 —Å–µ–º–ø–ª–æ–≤ –Ω–∞ –ø–∏–∫—Å–µ–ª—å
- –°–µ–≥–º–µ–Ω—Ç—ã –ø—É—Ç–∏: 8
- –í—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∞: ~30-60 —Å–µ–∫

### 2. `3d_path_integral_raymarcher_v2_gpu.py` - GPU –≤–µ—Ä—Å–∏—è v2.0
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–µ—Ä–≤–∞—è GPU —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –±–∞–∑–æ–≤–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
**–†–∞–∑–º–µ—Ä**: ~15KB | **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è (MPS/CPU)

```python
# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
‚îú‚îÄ‚îÄ GPURaymarcher (–∫–ª–∞—Å—Å)
‚îÇ   ‚îú‚îÄ‚îÄ __init__()               # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è GPU
‚îÇ   ‚îú‚îÄ‚îÄ _setup_screen_coords()   # –ü—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ normalize_gpu()          # GPU –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ scene_sdf_gpu()          # GPU SDF
‚îÇ   ‚îú‚îÄ‚îÄ update_camera()          # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ render_frame_gpu()       # –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
‚îÇ   ‚îî‚îÄ‚îÄ trace_paths_vectorized() # –í–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞
‚îî‚îÄ‚îÄ RealTimeRenderer (–∫–ª–∞—Å—Å)
    ‚îú‚îÄ‚îÄ __init__()               # Pygame –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ handle_events()          # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
    ‚îú‚îÄ‚îÄ draw_ui()               # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    ‚îî‚îÄ‚îÄ run()                   # –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**:
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 512x512
- SPP: 32 —Å–µ–º–ø–ª–∞ (–∞–¥–∞–ø—Ç–∏–≤–Ω–æ)
- Real-time: ~10-15 FPS
- –ú–æ–Ω–æ—Ö—Ä–æ–º–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

### 3. `3d_path_integral_raymarcher_v2_1_optimized.py` - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –≤–µ—Ä—Å–∏—è v2.1
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í—ã—Å–æ–∫–æ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å–æ —Å–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º
**–†–∞–∑–º–µ—Ä**: ~20KB | **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è (MPS –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)

```python
# –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
‚îú‚îÄ‚îÄ OptimizedGPURaymarcher (–∫–ª–∞—Å—Å)
‚îÇ   ‚îú‚îÄ‚îÄ –°–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ wavelengths_rgb{}    # RGB –¥–ª–∏–Ω—ã –≤–æ–ª–Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ k_red, k_green, k_blue # –í–æ–ª–Ω–æ–≤—ã–µ —á–∏—Å–ª–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ color_mode           # –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _render_color_frame()    # RGB —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _render_monochrome_frame() # –ß/–ë —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _render_channel()        # –û—Ç–¥–µ–ª—å–Ω—ã–π –∫–∞–Ω–∞–ª
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _trace_simplified_channel() # –°–ø–µ–∫—Ç—Ä–∞–ª—å–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ _calculate_dispersion()  # –î–∏—Å–ø–µ—Ä—Å–∏–æ–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ adaptive_quality_control() # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ FPS
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ target_fps = 15.0        # –¶–µ–ª–µ–≤–æ–π FPS
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ min_spp/max_spp          # –î–∏–∞–ø–∞–∑–æ–Ω –∫–∞—á–µ—Å—Ç–≤–∞
‚îÇ   ‚îî‚îÄ‚îÄ –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ _init_buffers()          # RGB/Mono –±—É—Ñ–µ—Ä—ã
‚îÇ       ‚îî‚îÄ‚îÄ pixel_intensities_rgb    # –¶–≤–µ—Ç–Ω—ã–µ –±—É—Ñ–µ—Ä—ã
‚îî‚îÄ‚îÄ InteractiveRenderer (–∫–ª–∞—Å—Å)
    ‚îú‚îÄ‚îÄ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
    ‚îÇ   ‚îú‚îÄ‚îÄ toggle_color_mode()     # C - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤
    ‚îÇ   ‚îú‚îÄ‚îÄ quality_control()       # Q/E - –∫–∞—á–µ—Å—Ç–≤–æ
    ‚îÇ   ‚îî‚îÄ‚îÄ adaptive_toggle()       # R - –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
    ‚îú‚îÄ‚îÄ –¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    ‚îÇ   ‚îú‚îÄ‚îÄ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ –°—Ç–∞—Ç—É—Å —Å–æ–æ–±—â–µ–Ω–∏—è
    ‚îÇ   ‚îî‚îÄ‚îÄ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    ‚îî‚îÄ‚îÄ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π UI
        ‚îú‚îÄ‚îÄ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π GUI
        ‚îú‚îÄ‚îÄ FPS —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        ‚îî‚îÄ‚îÄ –†–µ–∂–∏–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**:
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 512x512 (GPU) / 256x256 (CPU)
- SPP: 16 —Å–µ–º–ø–ª–æ–≤ (–∞–¥–∞–ø—Ç–∏–≤–Ω–æ 4-32)
- –°–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã: R(650nm), G(532nm), B(450nm)
- Real-time: ~15+ FPS
- –î–∏—Å–ø–µ—Ä—Å–∏–æ–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

### 4. `path_integral_engine.py` - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–≤–∏–∂–æ–∫ v3.0 ‚≠ê **–ù–û–í–´–ô**
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–≤–∏–∂–∫–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏–π
**–†–∞–∑–º–µ—Ä**: ~25KB | **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è

```python
# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–≤–∏–∂–∫–∞:
‚îú‚îÄ‚îÄ PathIntegralEngine (–≥–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å)
‚îÇ   ‚îú‚îÄ‚îÄ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PathIntegralConfig      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QualityPreset          # –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RenderingMode          # –†–µ–∂–∏–º—ã (RGB/Mono)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RenderingBackend       # Backend'—ã (MPS/CPU/CUDA)
‚îÇ   ‚îú‚îÄ‚îÄ Backend'—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GPUMPSBackend          # Apple Silicon –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CPUNumpyBackend        # CPU fallback
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RenderingBackendInterface # –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ –ê–ª–≥–æ—Ä–∏—Ç–º—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _render_spectral()     # –°–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _render_monochrome()   # –ú–æ–Ω–æ—Ö—Ä–æ–º–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _trace_paths()         # Path integral —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ _adjust_quality()      # –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
‚îÇ   ‚îî‚îÄ‚îÄ –ó–∞–≤–æ–¥—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ       ‚îú‚îÄ‚îÄ create_interactive_engine()
‚îÇ       ‚îú‚îÄ‚îÄ create_production_engine()
‚îÇ       ‚îî‚îÄ‚îÄ create_preview_engine()
```

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–Ω—ã—Ö backend'–æ–≤
- **–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞**: Preview, Interactive, Production, Research
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback** —Å MPS –Ω–∞ CPU
- **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API** –¥–ª—è –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è** –Ω–æ–≤—ã–º–∏ backend'–∞–º–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–≤–∏–∂–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∞

### –Ø–¥—Ä–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (Rendering Core)
```
PathIntegralEngine
‚îú‚îÄ‚îÄ SpectralRenderer
‚îÇ   ‚îú‚îÄ‚îÄ RGBChannelProcessor    # R(650nm), G(532nm), B(450nm)
‚îÇ   ‚îú‚îÄ‚îÄ MonochromeProcessor    # 550nm
‚îÇ   ‚îî‚îÄ‚îÄ DispersionCalculator   # –ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
‚îú‚îÄ‚îÄ GPUAccelerator (MPS)
‚îÇ   ‚îú‚îÄ‚îÄ TensorOperations       # PyTorch MPS –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ VectorizedTracing      # –ë–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ MemoryManager         # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ GPU
‚îî‚îÄ‚îÄ AdaptiveQuality
    ‚îú‚îÄ‚îÄ FPSMonitor            # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
    ‚îú‚îÄ‚îÄ QualityController     # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SPP
    ‚îî‚îÄ‚îÄ PerformanceOptimizer  # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```

### –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Control System)
```
InteractionManager
‚îú‚îÄ‚îÄ CameraController
‚îÇ   ‚îú‚îÄ‚îÄ OrbitNavigation       # –û—Ä–±–∏—Ç–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ AngleConstraints      # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ–≤–æ—Ä–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ SmoothTransitions     # –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
‚îú‚îÄ‚îÄ InputHandler
‚îÇ   ‚îú‚îÄ‚îÄ MouseRotation         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—ã—à—å—é
‚îÇ   ‚îú‚îÄ‚îÄ KeyboardShortcuts     # –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
‚îÇ   ‚îî‚îÄ‚îÄ EventProcessing       # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
‚îî‚îÄ‚îÄ UIManager
    ‚îú‚îÄ‚îÄ TerminalInterface     # –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    ‚îú‚îÄ‚îÄ StatusDisplay         # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
    ‚îî‚îÄ‚îÄ ControlsFeedback      # –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
```

### –§–∏–∑–∏—á–µ—Å–∫–∞—è —Å–∏–º—É–ª—è—Ü–∏—è (Physics Simulation)
```
PhysicsEngine
‚îú‚îÄ‚îÄ PathIntegration
‚îÇ   ‚îú‚îÄ‚îÄ QuantumAmplitudes     # –ö–≤–∞–Ω—Ç–æ–≤—ã–µ –∞–º–ø–ª–∏—Ç—É–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ PhaseCalculation      # –§–∞–∑–æ–≤—ã–µ —Ä–∞—Å—á–µ—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ InterferencePatterns  # –ò–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ü–∏–æ–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
‚îú‚îÄ‚îÄ OpticalEffects
‚îÇ   ‚îú‚îÄ‚îÄ WavelengthDispersion  # –î–∏—Å–ø–µ—Ä—Å–∏—è –ø–æ –¥–ª–∏–Ω–∞–º –≤–æ–ª–Ω
‚îÇ   ‚îú‚îÄ‚îÄ MaterialInteraction   # –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ AttenuationModeling   # –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—Ç—É—Ö–∞–Ω–∏—è
‚îî‚îÄ‚îÄ SceneDefinition
    ‚îú‚îÄ‚îÄ SDFPrimitives         # SDF –ø—Ä–∏–º–∏—Ç–∏–≤—ã
    ‚îú‚îÄ‚îÄ GeometryComposition   # –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –≥–µ–æ–º–µ—Ç—Ä–∏–∏
    ‚îî‚îÄ‚îÄ MaterialProperties    # –°–≤–æ–π—Å—Ç–≤–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install torch torchvision numpy pygame opencv-python Pillow

# –î–ª—è Apple Silicon (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
# PyTorch —Å MPS –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### –ó–∞–ø—É—Å–∫ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–µ—Ä—Å–∏–π

#### 1. –ë–∞–∑–æ–≤–∞—è CPU –≤–µ—Ä—Å–∏—è (–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è)
```bash
python 3_d_path_integral_raymarcher.py
# –í—Ä–µ–º—è: ~30-60 —Å–µ–∫, —Ä–µ–∑—É–ª—å—Ç–∞—Ç: render_path_integral_raymarcher.png
```

#### 2. GPU Real-time v2.0
```bash
python 3d_path_integral_raymarcher_v2_gpu.py
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–∫–Ω–æ, –º–æ–Ω–æ—Ö—Ä–æ–º–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
```

#### 3. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –≤–µ—Ä—Å–∏—è v2.1 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
python 3d_path_integral_raymarcher_v2_1_optimized.py
# –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
```

#### 4. –î–≤–∏–∂–æ–∫ v3.0 (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)
```python
from path_integral_engine import create_interactive_engine

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–≤–∏–∂–∫–∞
engine = create_interactive_engine()

# –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∞–¥—Ä–∞
img, info = engine.render(scene_sdf, cam_pos, cam_target)
print(f"FPS: {info['fps']:.2f}")
```

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
| –î–µ–π—Å—Ç–≤–∏–µ | –ö–ª–∞–≤–∏—à–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|---------|----------|
| –í—Ä–∞—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã | `Mouse` | –û—Ä–±–∏—Ç–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞ –≤–æ–∫—Ä—É–≥ —Å—Ü–µ–Ω—ã |
| –°–±—Ä–æ—Å –∫–∞–º–µ—Ä—ã | `Space` | –í–æ–∑–≤—Ä–∞—Ç –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ |
| –í—ã—Ö–æ–¥ | `ESC` | –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã (v2.1+)
| –î–µ–π—Å—Ç–≤–∏–µ | –ö–ª–∞–≤–∏—à–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|---------|----------|
| –£–≤–µ–ª–∏—á–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ | `Q` | +4 SPP (–¥–æ 64) |
| –£–º–µ–Ω—å—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ | `E` | -4 SPP (–¥–æ 4) |
| –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ | `R` | –í–∫–ª/–í—ã–∫–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
| –¶–≤–µ—Ç–Ω–æ–π —Ä–µ–∂–∏–º | `C` | RGB ‚Üî –ú–æ–Ω–æ—Ö—Ä–æ–º–Ω—ã–π |

### API –¥–≤–∏–∂–∫–∞ v3.0
```python
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–≤–∏–∂–∫–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏
preview_engine = create_preview_engine()      # –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
interactive_engine = create_interactive_engine()  # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º  
production_engine = create_production_engine()    # –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ

# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤
engine.switch_rendering_mode(RenderingMode.RGB_SPECTRAL)
engine.set_quality_preset(QualityPreset.PRODUCTION)

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
info = engine.get_info()
print(f"Backend: {info['backend']}, FPS: {info['stats']['avg_fps']}")
```

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π
| –í–µ—Ä—Å–∏—è | –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ | FPS | SPP | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
|--------|------------|-----|-----|-------------|
| v1.0 CPU | CPU | 0.02 | 60 | –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è |
| v2.0 GPU | MPS | 10-15 | 32 | –ü–µ—Ä–≤–∞—è GPU –≤–µ—Ä—Å–∏—è |
| v2.1 Opt | MPS | 15+ | 16 | –°–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã–π + –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |
| v3.0 Engine | MPS | 5-30+ | 4-64 | –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ |

### –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ v3.0
| Preset | –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ | SPP | Segments | Target FPS | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|--------|------------|-----|----------|------------|------------|
| Preview | 256x256 | 4 | 2 | 30 | –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä |
| Interactive | 512x512 | 16 | 4 | 15 | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ |
| Production | 1024x1024 | 64 | 8 | 1 | –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ |
| Research | 1024x1024 | 256 | 16 | 0.1 | –ù–∞—É—á–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è |

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **MacBook Air M1/M2**: Interactive preset, RGB —Ä–µ–∂–∏–º
- **MacBook Pro M1/M2**: Production preset –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö –∫–∞–¥—Ä–æ–≤
- **Intel Mac/PC**: Preview preset, Monochrome —Ä–µ–∂–∏–º
- **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: Engine v3.0 —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

## üî¨ –ù–∞—É—á–Ω—ã–µ –æ—Å–Ω–æ–≤—ã

### –§–∏–∑–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å
–î–≤–∏–∂–æ–∫ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –∫–≤–∞–Ω—Ç–æ–≤–æ-–º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –∫ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é —Å–≤–µ—Ç–∞:

1. **–ò–Ω—Ç–µ–≥—Ä–∞–ª—ã –ø–æ –ø—É—Ç—è–º –§–µ–π–Ω–º–∞–Ω–∞**: –ö–∞–∂–¥—ã–π —Ñ–æ—Ç–æ–Ω —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ –∫–≤–∞–Ω—Ç–æ–≤–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞
2. **–°—É–ø–µ—Ä–ø–æ–∑–∏—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π**: –í—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—É—Ç–∏ —Å–≤–µ—Ç–∞ —Å—É–º–º–∏—Ä—É—é—Ç—Å—è
3. **–ò–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ü–∏—è**: –§–∞–∑–æ–≤—ã–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
4. **–î–∏—Å–ø–µ—Ä—Å–∏—è**: –†–∞–∑–Ω—ã–µ –¥–ª–∏–Ω—ã –≤–æ–ª–Ω –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É

### –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞
```
–ê–º–ø–ª–∏—Ç—É–¥–∞ = ‚àë A(path) √ó e^(i¬∑k¬∑L(path))
–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å = |–ê–º–ø–ª–∏—Ç—É–¥–∞|¬≤

–≥–¥–µ:
- A(path) = –∞–º–ø–ª–∏—Ç—É–¥–∞ –ø—É—Ç–∏ —Å –∑–∞—Ç—É—Ö–∞–Ω–∏–µ–º
- k = –≤–æ–ª–Ω–æ–≤–æ–µ —á–∏—Å–ª–æ (2œÄ/Œª)  
- L(path) = –æ–ø—Ç–∏—á–µ—Å–∫–∞—è –¥–ª–∏–Ω–∞ –ø—É—Ç–∏
- Œª = –¥–ª–∏–Ω–∞ –≤–æ–ª–Ω—ã —Å–≤–µ—Ç–∞

–°–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã:
- –ö—Ä–∞—Å–Ω—ã–π: Œª = 650 –Ω–º (k = 9.65 –º–∫–º‚Åª¬π)
- –ó–µ–ª–µ–Ω—ã–π: Œª = 532 –Ω–º (k = 11.81 –º–∫–º‚Åª¬π)  
- –°–∏–Ω–∏–π: Œª = 450 –Ω–º (k = 13.96 –º–∫–º‚Åª¬π)
```

### –î–∏—Å–ø–µ—Ä—Å–∏–æ–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
```python
def dispersion_factor(wavelength):
    """–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–∏—Å–ø–µ—Ä—Å–∏–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞"""
    return 1.0 + 0.3 * (0.55 / wavelength - 1.0)

# –ö–æ—Ä–æ—Ç–∫–∏–µ –≤–æ–ª–Ω—ã (—Å–∏–Ω–∏–π) –±–æ–ª—å—à–µ —Ä–∞—Å—Å–µ–∏–≤–∞—é—Ç—Å—è
# –î–ª–∏–Ω–Ω—ã–µ –≤–æ–ª–Ω—ã (–∫—Ä–∞—Å–Ω—ã–π) –º–µ–Ω—å—à–µ —Ä–∞—Å—Å–µ–∏–≤–∞—é—Ç—Å—è
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
1. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞, —Ñ–∏–∑–∏–∫–∏ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: GPU-first –ø–æ–¥—Ö–æ–¥ —Å CPU fallback
3. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
4. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: Real-time –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –∫–∞—á–µ—Å—Ç–≤–æ–º

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ Backend'–∞
```python
class CustomBackend(RenderingBackendInterface):
    def _setup_device(self):
        return "custom_device"
        
    def render_frame(self, scene_sdf, camera_data):
        # –ö–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
        pass
        
    def normalize_vector(self, v):
        # –ö–∞—Å—Ç–æ–º–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
        pass
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω
```python
def complex_scene_sdf(points):
    """–°–ª–æ–∂–Ω–∞—è —Å—Ü–µ–Ω–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏"""
    # –°—Ñ–µ—Ä—ã
    sphere1 = torch.norm(points - center1, dim=-1) - radius1
    sphere2 = torch.norm(points - center2, dim=-1) - radius2
    
    # CSG –æ–ø–µ—Ä–∞—Ü–∏–∏
    union = torch.minimum(sphere1, sphere2)
    intersection = torch.maximum(sphere1, sphere2)
    difference = torch.maximum(sphere1, -sphere2)
    
    return union
```

## üìà Roadmap

### v3.1 (–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- [ ] CUDA backend –¥–ª—è NVIDIA GPU
- [ ] Mesh –≥–µ–æ–º–µ—Ç—Ä–∏—è (OBJ/PLY –∑–∞–≥—Ä—É–∑–∫–∞)  
- [ ] –ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (PBR)
- [ ] Volumetric —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

### v3.2 (–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- [ ] Neural denoising
- [ ] Temporal accumulation
- [ ] Multi-GPU –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- [ ] Real-time lighting

### v4.0 (–ë—É–¥—É—â–µ–µ)
- [ ] VR/AR –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] Cloud —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- [ ] AI-assisted –∫–∞—á–µ—Å—Ç–≤–æ
- [ ] Procedural –º–∞—Ç–µ—Ä–∏–∞–ª—ã

## üìö –°—Å—ã–ª–∫–∏ –∏ —Ä–µ—Å—É—Ä—Å—ã

### –ù–∞—É—á–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
- Feynman, R.P. "Space-time approach to quantum electrodynamics" (1949)
- Kajiya, J. "The rendering equation" (1986)  
- Veach, E. "Robust Monte Carlo methods for light transport simulation" (1997)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [Apple Metal Performance Shaders](https://developer.apple.com/metal/)
- [PyTorch MPS Backend](https://pytorch.org/docs/stable/notes/mps.html)
- [Signed Distance Functions](https://iquilezles.org/articles/distfunctions/)

### –û—Ç–∫—Ä—ã—Ç—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
–í—Å–µ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

*–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∫–≤–∞–Ω—Ç–æ–≤–æ-–º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫–µ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Apple Silicon –≤ –Ω–∞—É—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏—è—Ö.*
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- **–ú—ã—à—å** - –û—Ä–±–∏—Ç–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞ (—Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ)
- **–ù–µ–ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç—å** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞
- **SPACE** - –ü—É—Å–∫/–ø–∞—É–∑–∞
- **C** - –û—á–∏—Å—Ç–∏—Ç—å –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ
- **1/2/3** - –°–∏–Ω–∏–π/–∑–µ–ª–µ–Ω—ã–π/–∫—Ä–∞—Å–Ω—ã–π —Å–≤–µ—Ç
- **W/S/A/D** - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —â–µ–ª–µ–π
- **Q/E** - –ö–∞—á–µ—Å—Ç–≤–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- **T** - –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –≤–∫–ª/–≤—ã–∫–ª
- **F** - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–æ–Ω–æ–≤—ã–π —Ä–µ–∂–∏–º
- **ESC** - –í—ã—Ö–æ–¥

### üî• –í–µ—Ä—Å–∏—è 2.3 (–î–∏—Ñ—Ä–∞–∫—Ü–∏—è –¥–≤–æ–π–Ω–æ–π —â–µ–ª–∏) - `3d_path_integral_raymarcher_v2_3_double_slit.py` ‚≠ê‚≠ê‚≠ê
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: Mac M1/M2 GPU –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: Real-time (512x512 @ 5-12 FPS)
- **–°—Ü–µ–Ω–∞**: –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å –¥–∏—Ñ—Ä–∞–∫—Ü–∏–µ–π —Å–≤–µ—Ç–∞
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –ò—Å—Ç–æ—á–Ω–∏–∫ —Å–≤–µ—Ç–∞ (—Å–≤–µ—Ç—è—â–∞—è—Å—è –ø–ª–æ—Å–∫–æ—Å—Ç—å)
  - –ë–∞—Ä—å–µ—Ä —Å –¥–≤—É–º—è —Ä–µ–≥—É–ª–∏—Ä—É–µ–º—ã–º–∏ —â–µ–ª—è–º–∏
  - –≠–∫—Ä–∞–Ω –¥–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ü–∏–æ–Ω–Ω—ã—Ö –ø–æ–ª–æ—Å
  - –ü–æ–ª–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è –∫–≤–∞–Ω—Ç–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫–æ—Ä–ø—É—Å–∫—É–ª—è—Ä–Ω–æ-–≤–æ–ª–Ω–æ–≤–æ–≥–æ –¥—É–∞–ª–∏–∑–º–∞

**–ó–∞–ø—É—Å–∫:**
```bash
python 3d_path_integral_raymarcher_v2_3_double_slit.py
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- **SPACE** - –ü—É—Å–∫/–ø–∞—É–∑–∞ —Å–∏–º—É–ª—è—Ü–∏–∏
- **–ú—ã—à—å** - –û—Ä–±–∏—Ç–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞ –≤–æ–∫—Ä—É–≥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- **G** - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å –≥–µ–æ–º–µ—Ç—Ä–∏–∏
- **1/2/3** - –°–∏–Ω–∏–π/–∑–µ–ª–µ–Ω—ã–π/–∫—Ä–∞—Å–Ω—ã–π —Å–≤–µ—Ç
- **W/S** - –®–∏—Ä–∏–Ω–∞ —â–µ–ª–µ–π +/-
- **A/D** - –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —â–µ–ª—è–º–∏ +/-
- **Q/E** - –ö–∞—á–µ—Å—Ç–≤–æ +/-
- **R** - –°–±—Ä–æ—Å –∫–∞–º–µ—Ä—ã
- **ESC** - –í—ã—Ö–æ–¥

### 3Ô∏è‚É£ –í–µ—Ä—Å–∏—è 2.2 (macOS –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è) - `3d_path_integral_raymarcher_v2_2_macos.py` ‚≠ê‚≠ê
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: Mac M1/M2 GPU –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è macOS
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: Real-time (512x512 @ 5-15 FPS)
- **–ö–∞—á–µ—Å—Ç–≤–æ**: –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ + —Ç–æ—á–Ω–∞—è —Å—Ü–µ–Ω–∞ –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: 
  - UI –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –Ω–∞ –ø–∞—É–∑–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
  - –û—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI)
  - –ò–¥–µ–Ω—Ç–∏—á–Ω–∞—è —Å—Ü–µ–Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ 1.0
  - –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –õ—É—á—à–∏–π –≤—ã–±–æ—Ä –¥–ª—è macOS - —Å—Ç–∞–±–∏–ª—å–Ω—ã–π UI + –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

**–ó–∞–ø—É—Å–∫:**
```bash
python 3d_path_integral_raymarcher_v2_1_optimized.py
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –ú—ã—à—å: –û—Ä–±–∏—Ç–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞
- Q/E: –£–≤–µ–ª–∏—á–∏—Ç—å/—É–º–µ–Ω—å—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ
- R: –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- Space: –°–±—Ä–æ—Å –∫–∞–º–µ—Ä—ã
- ESC: –í—ã—Ö–æ–¥

### üß™ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ü–µ–Ω - `quick_scene_comparison.py`
–ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —ç—Ç–∞–ª–æ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å—Ü–µ–Ω.

**–ó–∞–ø—É—Å–∫:**
```bash
python quick_scene_comparison.py
```

### 4Ô∏è‚É£ –í–µ—Ä—Å–∏—è 2.1 (–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è) - `3d_path_integral_raymarcher_v2_1_optimized.py`
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: Mac M1/M2 GPU –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: Real-time (512x512 @ 5-15 FPS)  
- **–ö–∞—á–µ—Å—Ç–≤–æ**: –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: Real-time –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Å —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π —Å—Ü–µ–Ω–æ–π

## üéØ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Path Integral Rendering
- **–ü—Ä–∏–Ω—Ü–∏–ø**: –°–∏–º—É–ª—è—Ü–∏—è –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—É—Ç–µ–π —Å–≤–µ—Ç–∞ –º–µ–∂–¥—É –∫–∞–º–µ—Ä–æ–π –∏ –æ–±—ä–µ–∫—Ç–∞–º–∏
- **–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞**: –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –∞–º–ø–ª–∏—Ç—É–¥—ã –∏ –∫–≤–∞–Ω—Ç–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ü–∏–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –æ–ø—Ç–∏—á–µ—Å–∫–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (–¥–∏—Ñ—Ä–∞–∫—Ü–∏—è, –∏–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ü–∏—è)

### Apple Silicon –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **MPS (Metal Performance Shaders)**: –ù–∞—Ç–∏–≤–Ω–æ–µ GPU —É—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–ª—è M1/M2
- **PyTorch**: –í–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ GPU
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

### –ê–ª–≥–æ—Ä–∏—Ç–º—ã
- **Sphere Tracing**: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –ª—É—á–µ–π —Å SDF
- **SDF (Signed Distance Fields)**: –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≥–µ–æ–º–µ—Ç—Ä–∏–∏
- **–í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: Parallel –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ª—É—á–µ–π

## üß™ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å –¥–≤–æ–π–Ω–æ–π —â–µ–ª—å—é

–í–µ—Ä—Å–∏—è 2.3 —Å–∏–º—É–ª–∏—Ä—É–µ—Ç –∑–Ω–∞–º–µ–Ω–∏—Ç—ã–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Æ–Ω–≥–∞ —Å –¥–≤–æ–π–Ω–æ–π —â–µ–ª—å—é - –æ–¥–∏–Ω –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –∫–≤–∞–Ω—Ç–æ–≤–æ–π –º–µ—Ö–∞–Ω–∏–∫–∏.

### –§–∏–∑–∏–∫–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞:
1. **–ò—Å—Ç–æ—á–Ω–∏–∫ —Å–≤–µ—Ç–∞** –∏–∑–ª—É—á–∞–µ—Ç –∫–æ–≥–µ—Ä–µ–Ω—Ç–Ω—ã–µ —Ñ–æ—Ç–æ–Ω—ã
2. **–ë–∞—Ä—å–µ—Ä —Å –¥–≤—É–º—è —â–µ–ª—è–º–∏** —Å–æ–∑–¥–∞–µ—Ç –¥–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –≤—Ç–æ—Ä–∏—á–Ω—ã—Ö –≤–æ–ª–Ω
3. **–ò–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ü–∏—è** –≤–æ–ª–Ω –æ—Ç –¥–≤—É—Ö —â–µ–ª–µ–π —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª–æ—Å—ã –Ω–∞ —ç–∫—Ä–∞–Ω–µ
4. **Path Integral** —Å–∏–º—É–ª–∏—Ä—É–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—É—Ç–∏ —Ñ–æ—Ç–æ–Ω–æ–≤

### –ù–∞–±–ª—é–¥–∞–µ–º—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã:
- **–ò–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ü–∏–æ–Ω–Ω—ã–µ –ø–æ–ª–æ—Å—ã** - —Å–≤–µ—Ç–ª—ã–µ –∏ —Ç–µ–º–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –¥–ª–∏–Ω—ã –≤–æ–ª–Ω—ã** - —Ä–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω—ã
- **–í–ª–∏—è–Ω–∏–µ —à–∏—Ä–∏–Ω—ã —â–µ–ª–µ–π** - —É–∑–∫–∏–µ —â–µ–ª–∏ = –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–µ –ø–æ–ª–æ—Å—ã
- **–í–ª–∏—è–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —â–µ–ª—è–º–∏** - –±–æ–ª—å—à–µ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ = –±–æ–ª–µ–µ —É–∑–∫–∏–µ –ø–æ–ª–æ—Å—ã

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤:
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –¥–ª–∏–Ω—ã –≤–æ–ª–Ω (–∫–ª–∞–≤–∏—à–∏ 1, 2, 3)
- –ò–∑–º–µ–Ω–∏—Ç–µ —à–∏—Ä–∏–Ω—É —â–µ–ª–µ–π (–∫–ª–∞–≤–∏—à–∏ W, S)
- –í–∞—Ä—å–∏—Ä—É–π—Ç–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —â–µ–ª—è–º–∏ (–∫–ª–∞–≤–∏—à–∏ A, D)
- –ù–∞–±–ª—é–¥–∞–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏!

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

| –í–µ—Ä—Å–∏—è | –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ | –í—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∞ | FPS | –ö–∞—á–µ—Å—Ç–≤–æ | –°—Ü–µ–Ω–∞ | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
|--------|------------|---------------|-----|----------|-------|-------------|
| 1.0    | 220x140    | ~7 –º–∏–Ω—É—Ç      | -   | –û—Ç–ª–∏—á–Ω–æ–µ | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è | –≠—Ç–∞–ª–æ–Ω–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å |
| 2.0    | 512x512    | Real-time     | 2-5 | –•–æ—Ä–æ—à–µ–µ  | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è | GPU —É—Å–∫–æ—Ä–µ–Ω–∏–µ |
| 2.1    | 512x512    | Real-time     | 5-15| –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ| –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |
| 2.2    | 512x512    | Real-time     | 5-15| –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ| –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è | macOS —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å |
| 2.3    | 512x512    | Real-time     | 5-12| –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ| –î–∏—Ñ—Ä–∞–∫—Ü–∏—è | –ö–≤–∞–Ω—Ç–æ–≤—ã–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã |
| **2.5**| **512x512**| **–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π**| **0.1-60+**| **–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ**| **–î–∏—Ñ—Ä–∞–∫—Ü–∏—è** | **–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ + —à—É–º–æ–¥–∞–≤** |

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ v2.1

### –ö–ª—é—á–µ–≤—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
1. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ**: SPP –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è target FPS
2. **–ë–∞—Ç—á–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è**: –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GPU –ø–∞–º—è—Ç–∏
3. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—É—Ñ–µ—Ä–æ–≤**: –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∞–ª–ª–æ–∫–∞—Ü–∏–π
4. **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞**: –ë–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏
5. **–û—Ä–±–∏—Ç–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞**: –ü–ª–∞–≤–Ω–æ–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞:
- **SPP (Samples Per Pixel)**: 4-64 (–∞–¥–∞–ø—Ç–∏–≤–Ω–æ)
- **–°–µ–≥–º–µ–Ω—Ç—ã –ø—É—Ç–∏**: 4
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —à–∞–≥–∏**: 20
- **–î–ª–∏–Ω–∞ –≤–æ–ª–Ω—ã**: 0.55 (–∑–µ–ª–µ–Ω—ã–π —Å–≤–µ—Ç)
- **Jitter scale**: 0.3

## üé® –°—Ü–µ–Ω–∞

–í—Å–µ –≤–µ—Ä—Å–∏–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å—Ü–µ–Ω—É:
- **3 —Å—Ñ–µ—Ä—ã** —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –∏ –ø–æ–∑–∏—Ü–∏–π
- **–ü–ª–æ—Å–∫–æ—Å—Ç—å** (–ø–æ–ª)
- **–û—Ä–±–∏—Ç–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞** –¥–ª—è –ª—É—á—à–µ–≥–æ –æ–±–∑–æ—Ä–∞

## üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π:
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–≤–µ—Ä—Å–∏—é 1.0** –¥–ª—è –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

### –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–π:
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–≤–µ—Ä—Å–∏—é 2.1** –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö real-time –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–π.

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–±–µ–Ω—á–º–∞—Ä–∫** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

## üöÄ –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
1. **–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å**: CPU + GPU –≥–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
2. **–ú–∞—Ç–µ—Ä–∏–∞–ª—ã**: –†–∞–∑–ª–∏—á–Ω—ã–µ –æ–ø—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤
3. **–û—Å–≤–µ—â–µ–Ω–∏–µ**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Å–≤–µ—Ç–∞
4. **Post-processing**: Tone mapping, bloom —ç—Ñ—Ñ–µ–∫—Ç—ã
5. **VR/AR**: –°—Ç–µ—Ä–µ–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–∏–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install torch torchvision numpy pygame opencv-python Pillow
```

## üèÜ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- ‚úÖ CPU –≤–µ—Ä—Å–∏—è: –í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ GPU –≤–µ—Ä—Å–∏—è: Real-time –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- ‚úÖ MPS –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: –ù–∞—Ç–∏–≤–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ Apple Silicon
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ: –°—Ç–∞–±–∏–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ Path Integral —ç—Ñ—Ñ–µ–∫—Ç—ã: –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –æ–ø—Ç–∏–∫–∞

---

**–ê–≤—Ç–æ—Ä**: 3D Path Integral Raymarcher Project  
**–î–∞—Ç–∞**: –°–µ–Ω—Ç—è–±—Ä—å 2025  
**–õ–∏—Ü–µ–Ω–∑–∏—è**: MIT  
